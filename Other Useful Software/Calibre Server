Install

sudo apt update

then

sudo apt install -y libfontconfig libgl1-mesa-glx


REMEMBER: you can explicit more than one command with '&&'

so it could be:

sudo apt update &&  sudo apt install -y libfontconfig libgl1-mesa-glx

Now download calibre:

wget https://download.calibre-ebook.com/linux-installer.sh

sudo sh linux-installer.sh



Now download a book (it will be necessary to create the right config. files (.db) in calibre)

wget http://www.gutenberg.org/ebooks/46.kindle.noimages -O christmascarol.mobi



create a directory for calibre (it will be the directory of calibre)

mkdir calibre-library

add all mobi books (included the one downloaded):

calibredb add *.mobi --with-library calibre-library/

(Now, if you have firewall enabled than you have to add a rule for the program and the port
sudo ufw allow 8080
sudo ufw status)




Now run the server:

calibre-server calibre-library

if you want to load other library at once just type:

calibre-server calibre-library library2

and so on:

calibre-server calibre-library library2 library3  ....


You can access the library from a client. Open a browser and type:

IP:8080
or
hostname:8080



CALIBRE SERVER IN BACKGROUND

sudo nano /etc/systemd/system/calibre-server.service

ADD THESE LINES:

## startup service
[Unit]
Description=calibre content server
After=network.target

[Service]
Type=simple
User=UTENTE
Group=UTENTE (oppure inserire sudo se l'utente ha privilegi)
ExecStart=/opt/calibre/calibre-server /home/UTENTE/calibre-library --enable-local-write

[Install]
WantedBy=multi-user.target


REMEMBER to correctly indicate the path (with the correct user) and the name of the folder
that will be loaded as a calibre library.

Save and close the file.
Now enable the service and start it:

sudo systemctl enable calibre-server
sudo systemctl start calibre-server

Eventually reboot all the system
sudo reboot



you can also add users:
first stop the server:

sudo systemctl stop calibre-server

then add:

calibre-server --manage-users

add a new user (choose 1) and choose an username and password
It will ask twice the password.

You will then see:

Output
User mycalibreuser added successfully!



now reopen the config file

sudo nano /etc/systemd/system/calibre-server.service
and add --enable-auth to this line:

ExecStart=/opt/calibre/calibre-server /home/UTENTE/calibre-library --enable-local-write --enable-auth

Now restart (whenever you change the file you have to restart both the daemon that includes the service and then the calibre-server itself (not the
service but the program itself))

sudo systemctl daemon-reload
sudo systemctl start calibre-server


in the case that you need to deaticvate the authentication:

sudo systemctl stop calibre-server.service


remember that you have to stop just the service thati is 'calibre-server.service' not 'calibre-server'!

now open the Service

sudo nano /etc/systemd/system/calibre-server.service

and delete the "--enable-auth" part

save the file.

Now if you check the status of the service:

sudo systemctl status calibre-server.service

you will see the message:
The unit file, source configuration file or drop-ins of calibre-server.service changed on disk. Run 'systemctl daemon-reload' to reload units.
‚óè calibre-server.service - calibre content server

therefore we have to restart the daemon and then calibre-server:

sudo systemctl daemon-reload

now daemon has been reloaded. anyways it will stay still inactive. you can check this with:

sudo systemctl status calibre-server.service

therefore just reload the program:

sudo systemctl start calibre-server

now if you check with 'status' you will get the service as running


REMEMBER! you cannot access this resource if you activate a vpn client service on
your client pc
_________________________________


You can then connect BookCut folder to cron to add automatically all the books from BookCut

to install BookCut (for all users)

sudo pip install bookcut

if you not put 'sudo' at the beginning it will not be possible to retrieve the program



(if you have Anaconda just activate your environment)
conda activate my_environment


In Debian you have to install pip first. This divides in pip2 or pip3 depending on the version of python that you want to user

therefore:

sudo pip3 install bookcut

if you wrongly just type

pip3 install bookcut

without 'sudo' then you can remove the package with the commands

pip3 uninstall bookcut


SOME COMMANDS:

output the results and download e-book:
bookcut search -t 'Homer Odyssey'

bookcut book -b "White Fang" -a "Jack London"
